<md-sidenav-container [attr.data-color]="theme" class="home-container">
  <md-sidenav #sidenav class="home-sidenav leftSlider">
    <div class="row">
      <div class="col-lg-4 col-md-4 col-sm-4 photo">
        <img src="../../assets/images/user-logo.png" />
      </div>
      <div class="col-lg-8 col-md-8 col-sm-8 blns">
        <ul class="nav">
          <li>Name: <span class="digitAlign">{{currentUser.data.name}}</span></li>
          <li>Balance: <span class="digitAlign">{{balance | currency:'USD':true:'1.2-2'}}</span></li>
          <li>Exposure: <span class="digitAlign">{{exposure | currency:'USD':true:'1.2-2'}}</span></li>
        </ul>
      </div>
    </div>
    <md-slide-toggle [(ngModel)]="inPlay">Slide Toggle</md-slide-toggle>
    <accordion [closeOthers]="oneAtATime">
      <accordion-group *ngFor="let itomLabOne of allGames" heading="{{itomLabOne.cat_name}}">
        <ul>
          <li *ngFor="let itomLabTwo of itomLabOne.data | searchfilter: 'game_inplay' : inPlay">
            <span *ngIf="itomLabTwo.game_inplay" class="pull-right">InPlay</span>
            <a (click)="onClickOpenGame(itomLabTwo)" href="#">{{itomLabTwo.game_name}}</a>
          </li>
        </ul>
      </accordion-group>
    </accordion>
    <!-- <pre> {{allGames | json}}</pre> -->
  </md-sidenav>
  <div class="home-content">
    <div class="row header">
      <div class="col-lg-3">
        <ul class="topNav text-left">
          <li mdTooltip="Open Games" (click)="getGamesNew();sidenav.open();"><i class="material-icons">reorder</i></li>
          <li class="logo">App Name</li>
        </ul>
      </div>
      <div class="col-lg-9">
        <ul class="topNav text-right">
          <li mdTooltip="Language"><i class="material-icons">language</i></li>
          <!-- <button *ngFor="let lang of supportedLangs" (click)="selectLang(lang.value)" class="btn btn-default"
                        [class.btn-primary]="isCurrentLang(lang.value)">{{ lang.display }}</button> -->
          <li mdTooltip="OneClick Bet" class="{{onclick ? 'active' : ''}}" (click)="chnageOnClick()"><i class="material-icons">touch_app</i></li>
          <li mdTooltip="Balance"><i class="material-icons">perm_identity</i> {{balance | currency:'USD':true:'1.2-2'}}</li>
          <li mdTooltip="My Bets" (click)="isCollapsedMyBets = !isCollapsedMyBets"><i class="material-icons">account_balance_wallet</i></li>
          <li mdTooltip="Report" (click)="isCollapsedReport = !isCollapsedReport"><i class="material-icons">receipt</i></li>
          <li mdTooltip="Options" (click)="openModal(template)"><i class="material-icons">settings</i></li>
          <li mdTooltip="Logout"><a href="/login"><i class="material-icons">power_settings_new</i></a></li>
        </ul>
      </div>
    </div>
    <div class="row ticker">
      <div class="col-lg-12">
        <i class="material-icons">reorder</i>
        <marquee>{{ticker}}</marquee>
      </div>
    </div>
    <div class="row">

      <div class="col-lg-12 contain-area">

        <!-- Option Template -->
        <ng-template #template>
          <div class="header">
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                    <md-icon aria-hidden="true">backspace</md-icon> 
            </button>
            <h4>Preferences</h4>
          </div>
          <div class="modal-body optionSection">
            <app-options></app-options>
          </div>
        </ng-template>

        <!-- My Bets Template -->
        <div (collapsed)="collapsed($event)" (expanded)="expanded($event)" [collapse]="isCollapsedMyBets" class="modal-content reportBg">
          <div class="header">
            <button type="button" class="close pull-right" (click)="isCollapsedMyBets = !isCollapsedMyBets"><md-icon>backspace</md-icon></button>
            <h4>My Bets Panel</h4>
          </div>
          <div class="modal-body mybetSection">
            <app-mybets></app-mybets>
          </div>
        </div>

        <!-- Report Template -->
        <div (collapsed)="collapsed($event)" (expanded)="expanded($event)" [collapse]="isCollapsedReport" class="modal-content reportBg">
          <div class="header">
            <button type="button" class="close pull-right" (click)="isCollapsedReport = !isCollapsedReport"><md-icon>backspace</md-icon></button>
            <h4>Report Panel</h4>
          </div>
          <div class="modal-body reportSection">
            <app-report></app-report>
          </div>
        </div>

        <!-- Games -->
        <div *ngFor="let key of objectKeys(gameIds)">
          <app-games [gameIds]="gameIds" [currentGameId]="gameIds[key].game_id"></app-games>
        </div>

      </div>
    </div>

  </div>
</md-sidenav-container>
